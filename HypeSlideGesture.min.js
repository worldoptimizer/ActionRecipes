/*
 Hype Slide Gesture 1.0.0
copyright (c) 2021 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeSlideGesture"in window&&(window.HypeSlideGesture=function(){return{version:"1.0.0",continueAfterDrag:function(e,f,g,b){if(g&&g.hypeGesturePhase){b=b||{};var a=b.forceInstance||b.symbolInstance||e.getSymbolInstance(f)||e,d=b.timelineName||"timelineName",n=b.borderMode||"none",h=b.ms||100,p=(Math.abs(b.maxVelocity)||12)/60,k=b.minVelocity?Math.abs(b.minVelocity)/60:null,q=b.friction||.95,m=b.borderFriction||.1,r=b.threshold||.01;b=a.currentTimeInTimelineNamed(d);var l=a.durationForTimelineNamed(d);
switch(g.hypeGesturePhase){case e.kHypeGesturePhaseStart:a.isDragging=!0;a.dragTime=b;clearInterval(a.interval);a.interval=setInterval(function(){a.dragTime=a.currentTimeInTimelineNamed(d)},h);(h=f.getAttribute("data-timeline-drag-start-action"))&&e.triggerAction(h,{element:f,event:Object.assign({instance:a,dragGesturePhase:"TimelineDragStart"},g)});break;case e.kHypeGesturePhaseEnd:case e.kHypeGesturePhaseCancel:a.isDragging=!1;a.dragDiff=Math.min(Math.max(b-a.dragTime,-p),p);clearInterval(a.interval);
a.interval=setInterval(function(){var c=a.currentTimeInTimelineNamed(d);if(c+a.dragDiff>l)switch(c=c+a.dragDiff-l,n){case "bounce":a.goToTimeInTimelineNamed(l-c*m,d);a.dragDiff*=m;a.dragDiff*=-1;break;case "shift":a.goToTimeInTimelineNamed(c,d);break;default:a.goToTimeInTimelineNamed(l,d),a.dragDiff=0}else if(0>c+a.dragDiff)switch(c+=a.dragDiff,n){case "bounce":a.goToTimeInTimelineNamed(-c*m,d);a.dragDiff*=m;a.dragDiff*=-1;break;case "shift":a.goToTimeInTimelineNamed(l-c,d);break;default:a.goToTimeInTimelineNamed(0,
d),a.dragDiff=0}else a.goToTimeInTimelineNamed(Math.round(100*(c+a.dragDiff))/100,d);a.dragDiff*=q;k&&(0<a.dragDiff?a.dragDiff<k&&(a.dragDiff=k):0>a.dragDiff&&a.dragDiff>-k&&(a.dragDiff=-k));Math.abs(a.dragDiff)<r?(a.pauseTimelineNamed(d),clearInterval(a.interval),(c=f.getAttribute("data-timeline-slide-end-action"))&&e.triggerAction(c,{element:f,event:Object.assign({instance:a,dragGesturePhase:"TimelineSlideEnd"},g)})):(c=f.getAttribute("data-timeline-slide-move-action"))&&e.triggerAction(c,{element:f,
event:Object.assign({instance:a,dragGesturePhase:"TimelineSlideMove"},g)})},1E3/60);(h=f.getAttribute("data-timeline-drag-end-action"))&&e.triggerAction(h,{element:f,event:Object.assign({instance:a,dragGesturePhase:"TimelineDragEnd"},g)});break;case e.kHypeGesturePhaseMove:(h=f.getAttribute("data-timeline-drag-move-action"))&&e.triggerAction(h,{element:f,event:Object.assign({instance:a,dragGesturePhase:"TimelineDragMove"},g)})}}}}}());
